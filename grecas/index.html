<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/style.css">
    <title>Title</title>
</head>
<body>
<div class="navprobase"></div>
<div class="navprobase">
    <p>Instrucciones: Arma la forma que aparece con triangulos y cuadrados.</p>
</div>
<script src="../bower_components/raphael/raphael.min.js"></script>
<script src="../bower_components/jquery/dist/jquery.min.js"></script>
<script>
    var paper2 = Raphael(360, 90, 700, 520);
    var paper = Raphael(370, 100, 680, 500);


    //paper.canvas.style.backgroundColor = '#E0E0F8';
    paper2.canvas.style.backgroundColor = '#3B240B';
    paper.canvas.style.backgroundColor = '#088A29';



    //var t = paper.text(340, 100, "Arma la siguiente forma con las figuras geometricas");

    var rex = paper.rect(340, 140, 50, 50).attr("fill", "#E6E6E6");
    var rex2 = paper.rect(340, 190, 50, 50).attr("fill", "#000");
    var rex3= paper.rect(290, 190, 50, 50).attr("fill", "#FF0000");
    var rex4 = paper.rect(290, 140, 50, 50).attr("fill", "#00FF00");
    //var tri = paper.path("M0,0 L100,0 100,50 z").attr("fill", "#E6E6E6");

    //t.attr('stroke', '#aceace')
    rex.attr('stroke', '#000');
    rex2.attr('stroke', '#000');
    rex3.attr('stroke', '#000');
    rex4.attr('stroke', '#000');
    //tri.attr('stroke', '#000');

    //drag
    var start = function () {
            this.odx = 0;
            this.ody = 0;
            this.animate({"fill-opacity": 0.2}, 500);
        },
        move = function (dx, dy) {
            this.translate(dx - this.odx, dy - this.ody);
            this.odx = dx;
            this.ody = dy;
        },
        up = function () {
            this.animate({"fill-opacity": 1}, 500);
        };

    rex.drag(move,start,up);
    rex2.drag(move,start,up);
    rex3.drag(move,start,up);
    rex4.drag(move,start,up);
    //tri.drag(move,start,up);


    function changePosition() {
        //1er acomodo
        rex.animate({
            x: 290,
            y: 190,
        }, 1000);

        rex2.animate({
            x: 290,
            y: 140,
        }, 1000);

        rex3.animate({
            x: 340,
            y: 140,
        }, 1000);
        rex4.animate({
            x: 340,
            y: 190,
        }, 1000);




    }

    function changePosition2() {
       //2do acomodo
        rex.animate({
            x: 340,
            y: 190,
        }, 1000);

        rex2.animate({
            x: 340,
            y: 140,
        }, 1000);

        rex3.animate({
            x: 290,
            y: 140,
        }, 1000);
        rex4.animate({
            x: 290,
            y: 190,
        }, 1000);



    }
            //debugger;



    var x = 0;
    var check = false;
    //var text = "";
    //var i = 0;



        setTimeout(changePosition,1000);

        setTimeout(changePosition2,2500);

        //debugger;
        console.log(x);
       x++;



//calificador

    var restart = false;
    var myInterval =  setInterval(function(){

        x = rex.attrs.x+rex.odx;
        y = rex.attrs.y+rex.ody;
        x2 = rex2.attrs.x+rex2.odx;
        y2 = rex2.attrs.y+rex2.ody;

        var x_final = rex.attrs.x;
        var y_final = rex.attrs.y;

        if( x === x_final && x2 === x_final &&
            y === y_final && y2 === y_final){
           // alert("Correcto");
            restart = true;

            if (restart === true) {

                location.reload();
            }
        } //console.log(" " + x + ","+y+ " "+rex.odx+","+rex.ody+","+ x2 + "," + y2+" "+rex2.odx+","+rex2.ody);

    },4000)



    myInterval();

    //changePosition2();



</script>
</div>

<!--librerias-->
<script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
</body>
</html>